<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1">
<title>Forwarding Strategies</title>
<link rel="stylesheet" href="../boostbook.css" type="text/css">
<meta name="generator" content="DocBook XSL Stylesheets V1.72.0">
<link rel="start" href="../index.html" title="Chapter 1. Egg 0.90.5">
<link rel="up" href="../index.html" title="Chapter 1. Egg 0.90.5">
<link rel="prev" href="concepts.html" title="Concepts">
<link rel="next" href="function_builders.html" title="Function Builders">
</head>
<body bgcolor="white" text="black" link="#0000FF" vlink="#840084" alink="#0000FF">
<table cellpadding="2" width="100%"><tr><td valign="top"><img alt="Boost C++ Libraries" width="277" height="86" src="../../../boost.png"></td></tr></table>
<hr>
<div class="spirit-nav">
<a accesskey="p" href="concepts.html"><img src="../../../doc/html/images/prev.png" alt="Prev"></a><a accesskey="u" href="../index.html"><img src="../../../doc/html/images/up.png" alt="Up"></a><a accesskey="h" href="../index.html"><img src="../../../doc/html/images/home.png" alt="Home"></a><a accesskey="n" href="function_builders.html"><img src="../../../doc/html/images/next.png" alt="Next"></a>
</div>
<div class="section" lang="en">
<div class="titlepage"><div><div><h2 class="title" style="clear: both">
<a name="egg.forwarding_strategies"></a><a href="forwarding_strategies.html" title="Forwarding Strategies">Forwarding Strategies</a></h2></div></div></div>
<div class="toc"><dl>
<dt><span class="section"><a href="forwarding_strategies.html#egg.forwarding_strategies.argument_list">Argument list</a></span></dt>
<dt><span class="section"><a href="forwarding_strategies.html#egg.forwarding_strategies.by_perfect">by_perfect</a></span></dt>
<dt><span class="section"><a href="forwarding_strategies.html#egg.forwarding_strategies.by_ref">by_ref</a></span></dt>
<dt><span class="section"><a href="forwarding_strategies.html#egg.forwarding_strategies.by_cref">by_cref</a></span></dt>
<dt><span class="section"><a href="forwarding_strategies.html#egg.forwarding_strategies.by_value">by_value</a></span></dt>
<dt><span class="section"><a href="forwarding_strategies.html#egg.forwarding_strategies.writing_your_own_strategies">Writing
      your own strategies</a></span></dt>
<dt><span class="section"><a href="forwarding_strategies.html#egg.forwarding_strategies.determining_nullary_return_types">Determining
      nullary return types</a></span></dt>
</dl></div>
<p>
      A Forwarding Strategy is a type which has three associated imaginary operators
      <code class="computeroutput"><a href="forwarding_strategies.html#egg.forwarding_strategies.argument_list" title="Argument list"><code class="computeroutput"><span class="identifier">__bytag_at</span></code></a></code>, <code class="computeroutput"><a href="forwarding_strategies.html#egg.forwarding_strategies.argument_list" title="Argument list"><code class="computeroutput"><span class="identifier">__arg_list</span></code></a></code> and <code class="computeroutput"><a href="forwarding_strategies.html#egg.forwarding_strategies.argument_list" title="Argument list"><code class="computeroutput"><span class="identifier">__meta_arg_list</span></code></a></code>.
      Egg predefines the fundamental strategy quartet: <code class="computeroutput"><span class="identifier">by_perfect</span></code>,
      <code class="computeroutput"><span class="identifier">by_ref</span></code>, <code class="computeroutput"><span class="identifier">by_cref</span></code>,
      and <code class="computeroutput"><span class="identifier">by_value</span></code>. Also note Egg
      components use <code class="computeroutput"><span class="identifier">by_perfect</span></code> when
      you omit or specify <code class="computeroutput"><span class="identifier">boost</span><span class="special">::</span><span class="identifier">use_default</span></code> for strategy parameter.
    </p>
<p>
      This section uses the following notation.
    </p>
<div class="informaltable"><table class="table">
<colgroup>
<col>
<col>
</colgroup>
<thead><tr>
<th>
            <p>
              <span class="bold"><strong>Valid expression</strong></span>
            </p>
            </th>
<th>
            <p>
              <span class="bold"><strong>Semantics</strong></span>
            </p>
            </th>
</tr></thead>
<tbody>
<tr>
<td>
            <p>
              <code class="computeroutput"><a href="forwarding_strategies.html" title="Forwarding Strategies"><code class="computeroutput"><span class="identifier">__arg</span></code></a><span class="special">(</span><span class="identifier">a</span><span class="special">)</span></code>
            </p>
            </td>
<td>
            <p>
              <code class="computeroutput"><a href="../index.html#egg.overview.notation" title="Notation"><code class="computeroutput"><span class="identifier">__typeof</span></code></a><span class="special">(</span><span class="identifier">a</span><span class="special">)</span> <span class="keyword">const</span></code>
              if <code class="computeroutput"><span class="identifier">a</span></code> is a rvalue;
              <code class="computeroutput"><span class="identifier">boost</span><span class="special">::</span><span class="identifier">remove_reference</span><span class="special">&lt;</span><a href="../index.html#egg.overview.notation" title="Notation"><code class="computeroutput"><span class="identifier">__decltype</span></code></a><span class="special">(</span><span class="identifier">a</span><span class="special">)&gt;::</span><span class="identifier">type</span></code>
              otherwise.
            </p>
            </td>
</tr>
<tr>
<td>
            <p>
              <code class="computeroutput"><a href="forwarding_strategies.html" title="Forwarding Strategies"><code class="computeroutput"><span class="identifier">__ref</span></code></a><span class="special">(</span><span class="identifier">a</span><span class="special">)</span></code>
            </p>
            </td>
<td>
            <p>
              <code class="computeroutput"><span class="keyword">static_cast</span><span class="special">&lt;</span><a href="forwarding_strategies.html" title="Forwarding Strategies"><code class="computeroutput"><span class="identifier">__arg</span></code></a><span class="special">(</span><span class="identifier">a</span><span class="special">)</span> <span class="special">&amp;&gt;(</span><span class="identifier">a</span><span class="special">)</span></code>
            </p>
            </td>
</tr>
<tr>
<td>
            <p>
              <code class="computeroutput"><a href="forwarding_strategies.html" title="Forwarding Strategies"><code class="computeroutput"><span class="identifier">__cref</span></code></a><span class="special">(</span><span class="identifier">a</span><span class="special">)</span></code>
            </p>
            </td>
<td>
            <p>
              <code class="computeroutput"><span class="keyword">static_cast</span><span class="special">&lt;</span><a href="forwarding_strategies.html" title="Forwarding Strategies"><code class="computeroutput"><span class="identifier">__arg</span></code></a><span class="special">(</span><span class="identifier">a</span><span class="special">)</span> <span class="keyword">const</span> <span class="special">&amp;&gt;(</span><span class="identifier">a</span><span class="special">)</span></code>
            </p>
            </td>
</tr>
<tr>
<td>
            <p>
              <code class="computeroutput"><a href="forwarding_strategies.html" title="Forwarding Strategies"><code class="computeroutput"><span class="identifier">__val</span></code></a><span class="special">(</span><span class="identifier">a</span><span class="special">)</span></code>
            </p>
            </td>
<td>
            <p>
              <code class="computeroutput"><span class="keyword">const_cast</span><span class="special">&lt;</span><span class="identifier">V</span> <span class="special">&amp;&gt;(</span><span class="keyword">static_cast</span><span class="special">&lt;</span><span class="identifier">V</span> <span class="keyword">const</span>
              <span class="special">&amp;&gt;(</span><span class="identifier">boost</span><span class="special">::</span><span class="identifier">implicit_cast</span><span class="special">&lt;</span><span class="identifier">V</span><span class="special">&gt;(</span><span class="identifier">a</span><span class="special">)))</span></code>
            </p>
            </td>
</tr>
<tr>
<td>
            <p>
              <code class="computeroutput"><a href="forwarding_strategies.html" title="Forwarding Strategies"><code class="computeroutput"><span class="identifier">__rval</span></code></a><span class="special">(</span><span class="identifier">a</span><span class="special">)</span></code>
            </p>
            </td>
<td>
            <p>
              <code class="computeroutput"><span class="identifier">boost</span><span class="special">::</span><span class="identifier">implicit_cast</span><span class="special">&lt;</span><span class="identifier">V</span><span class="special">&gt;(</span><span class="identifier">a</span><span class="special">)</span></code>
            </p>
            </td>
</tr>
</tbody>
</table></div>
<p>
      , where <code class="computeroutput"><span class="identifier">V</span></code> is <code class="computeroutput"><span class="identifier">boost</span><span class="special">::</span><span class="identifier">remove_cv</span><span class="special">&lt;</span><span class="identifier">boost</span><span class="special">::</span><span class="identifier">decay</span><span class="special">&lt;</span><a href="../index.html#egg.overview.notation" title="Notation"><code class="computeroutput"><span class="identifier">__typeof</span></code></a><span class="special">(</span><span class="identifier">a</span><span class="special">)&gt;::</span><span class="identifier">type</span><span class="special">&gt;::</span><span class="identifier">type</span></code>.
    </p>
<div class="caution"><table border="0" summary="Caution">
<tr>
<td rowspan="2" align="center" valign="top" width="25"><img alt="[Caution]" src="../../../doc/html/images/caution.png"></td>
<th align="left">Caution</th>
</tr>
<tr><td align="left" valign="top"><p>
        Under msvc-7.1, <code class="computeroutput"><span class="identifier">a</span></code> in <code class="computeroutput"><a href="forwarding_strategies.html" title="Forwarding Strategies"><code class="computeroutput"><span class="identifier">__cref</span></code></a><span class="special">(</span><span class="identifier">a</span><span class="special">)</span></code>
        can't be function name. It is preferable to add a <code class="computeroutput"><span class="special">&amp;</span></code>
        then turn the function name into function pointer.
      </p></td></tr>
</table></div>
<div class="section" lang="en">
<div class="titlepage"><div><div><h3 class="title">
<a name="egg.forwarding_strategies.argument_list"></a><a href="forwarding_strategies.html#egg.forwarding_strategies.argument_list" title="Argument list">Argument list</a></h3></div></div></div>
<a name="egg.forwarding_strategies.argument_list.description"></a><h5>
<a name="id532224"></a>
        <a href="forwarding_strategies.html#egg.forwarding_strategies.argument_list.description">Description</a>
      </h5>
<p>
        Egg defines the following imaginary operators for its documentation.
      </p>
<a name="egg.forwarding_strategies.argument_list.notation"></a><h5>
<a name="id532255"></a>
        <a href="forwarding_strategies.html#egg.forwarding_strategies.argument_list.notation">Notation</a>
      </h5>
<div class="itemizedlist"><ul type="disc">
<li>
<code class="computeroutput"><span class="identifier">K</span></code> is the length of <code class="computeroutput"><span class="identifier">a</span></code>.
        </li>
<li>
<code class="computeroutput"><span class="identifier">fwd_arg</span><span class="special">(</span><span class="identifier">a</span><span class="special">,</span> <a href="../index.html#egg.overview.notation" title="Notation"><code class="computeroutput"><span class="identifier">__Stg</span></code></a><span class="special">,</span>
          <span class="identifier">K</span><span class="special">,</span>
          <span class="identifier">I</span><span class="special">)</span></code>
          is <code class="computeroutput"><a href="forwarding_strategies.html" title="Forwarding Strategies"><code class="computeroutput"><span class="identifier">__rval</span></code></a><span class="special">(</span><span class="identifier">aI</span><span class="special">)</span></code>
          if <code class="computeroutput"><a href="forwarding_strategies.html#egg.forwarding_strategies.argument_list" title="Argument list"><code class="computeroutput"><span class="identifier">__bytag_at</span></code></a><span class="special">(</span><a href="../index.html#egg.overview.notation" title="Notation"><code class="computeroutput"><span class="identifier">__Stg</span></code></a><span class="special">,</span> <span class="identifier">K</span><span class="special">,</span>
          <span class="identifier">I</span><span class="special">)</span></code>
          is <code class="computeroutput"><span class="identifier">by_value</span></code>, <code class="computeroutput"><a href="forwarding_strategies.html#egg.forwarding_strategies.argument_list" title="Argument list"><code class="computeroutput"><span class="identifier">__arg_list</span></code></a><span class="special">(</span><span class="identifier">aI</span><span class="special">,</span>
          <a href="../index.html#egg.overview.notation" title="Notation"><code class="computeroutput"><span class="identifier">__Stg</span></code></a><span class="special">)</span></code> otherwise.
        </li>
</ul></div>
<a name="egg.forwarding_strategies.argument_list.valid_expressions"></a><h5>
<a name="id532554"></a>
        <a href="forwarding_strategies.html#egg.forwarding_strategies.argument_list.valid_expressions">Valid
        expressions</a>
      </h5>
<div class="informaltable"><table class="table">
<colgroup>
<col>
<col>
</colgroup>
<thead><tr>
<th>
              <p>
                <span class="bold"><strong>Valid expression</strong></span>
              </p>
              </th>
<th>
              <p>
                <span class="bold"><strong>Semantics</strong></span>
              </p>
              </th>
</tr></thead>
<tbody>
<tr>
<td>
              <p>
                <code class="computeroutput"><a href="forwarding_strategies.html#egg.forwarding_strategies.argument_list" title="Argument list"><code class="computeroutput"><span class="identifier">__bytag_at</span></code></a><span class="special">(</span><a href="../index.html#egg.overview.notation" title="Notation"><code class="computeroutput"><span class="identifier">__Stg</span></code></a><span class="special">,</span> <span class="identifier">K</span><span class="special">,</span> <span class="identifier">I</span><span class="special">)</span></code>
              </p>
              </td>
<td>
              <p>
                See each section of <code class="computeroutput"><a href="../index.html#egg.overview.notation" title="Notation"><code class="computeroutput"><span class="identifier">__Stg</span></code></a></code>.
              </p>
              </td>
</tr>
<tr>
<td>
              <p>
                <code class="computeroutput"><a href="forwarding_strategies.html#egg.forwarding_strategies.argument_list" title="Argument list"><code class="computeroutput"><span class="identifier">__arg_list</span></code></a><span class="special">(</span><span class="identifier">a</span><span class="special">,</span> <a href="../index.html#egg.overview.notation" title="Notation"><code class="computeroutput"><span class="identifier">__Stg</span></code></a><span class="special">)</span></code>
              </p>
              </td>
<td>
              <p>
                See each section of <code class="computeroutput"><a href="../index.html#egg.overview.notation" title="Notation"><code class="computeroutput"><span class="identifier">__Stg</span></code></a></code>.
              </p>
              </td>
</tr>
<tr>
<td>
              <p>
                <code class="computeroutput"><a href="forwarding_strategies.html#egg.forwarding_strategies.argument_list" title="Argument list"><code class="computeroutput"><span class="identifier">__arg_list</span></code></a><span class="special">(</span><span class="identifier">a</span><span class="special">,</span> <a href="../index.html#egg.overview.notation" title="Notation"><code class="computeroutput"><span class="identifier">__ud</span></code></a><span class="special">)</span></code>
              </p>
              </td>
<td>
              <p>
                <code class="computeroutput"><a href="forwarding_strategies.html#egg.forwarding_strategies.argument_list" title="Argument list"><code class="computeroutput"><span class="identifier">__arg_list</span></code></a><span class="special">(</span><span class="identifier">a</span><span class="special">,</span> <span class="identifier">by_perfect</span><span class="special">)</span></code>
              </p>
              </td>
</tr>
<tr>
<td>
              <p>
                <code class="computeroutput"><a href="forwarding_strategies.html#egg.forwarding_strategies.argument_list" title="Argument list"><code class="computeroutput"><span class="identifier">__meta_arg_list</span></code></a><span class="special">(</span><span class="identifier">a</span><span class="special">,</span> <a href="../index.html#egg.overview.notation" title="Notation"><code class="computeroutput"><span class="identifier">__Stg</span></code></a><span class="special">)</span></code>
              </p>
              </td>
<td>
              <p>
                See each section of <code class="computeroutput"><a href="../index.html#egg.overview.notation" title="Notation"><code class="computeroutput"><span class="identifier">__Stg</span></code></a></code>.
              </p>
              </td>
</tr>
<tr>
<td>
              <p>
                <code class="computeroutput"><a href="forwarding_strategies.html#egg.forwarding_strategies.argument_list" title="Argument list"><code class="computeroutput"><span class="identifier">__meta_arg_list</span></code></a><span class="special">(</span><span class="identifier">a</span><span class="special">,</span> <a href="../index.html#egg.overview.notation" title="Notation"><code class="computeroutput"><span class="identifier">__ud</span></code></a><span class="special">)</span></code>
              </p>
              </td>
<td>
              <p>
                <code class="computeroutput"><a href="forwarding_strategies.html#egg.forwarding_strategies.argument_list" title="Argument list"><code class="computeroutput"><span class="identifier">__meta_arg_list</span></code></a><span class="special">(</span><span class="identifier">a</span><span class="special">,</span> <span class="identifier">by_perfect</span><span class="special">)</span></code>
              </p>
              </td>
</tr>
<tr>
<td>
              <p>
                <code class="computeroutput"><a href="forwarding_strategies.html#egg.forwarding_strategies.argument_list" title="Argument list"><code class="computeroutput"><span class="identifier">__fwd_arg_list</span></code></a><span class="special">(</span><span class="identifier">a</span><span class="special">,</span> <a href="../index.html#egg.overview.notation" title="Notation"><code class="computeroutput"><span class="identifier">__Stg</span></code></a><span class="special">)</span></code>
              </p>
              </td>
<td>
              <p>
                <code class="computeroutput"><span class="identifier">fwd_arg</span><span class="special">(</span><span class="identifier">a</span><span class="special">,</span> <a href="../index.html#egg.overview.notation" title="Notation"><code class="computeroutput"><span class="identifier">__Stg</span></code></a><span class="special">,</span> <span class="identifier">K</span><span class="special">,</span> <span class="number">0</span><span class="special">),...,</span><span class="identifier">fwd_arg</span><span class="special">(</span><span class="identifier">a</span><span class="special">,</span> <a href="../index.html#egg.overview.notation" title="Notation"><code class="computeroutput"><span class="identifier">__Stg</span></code></a><span class="special">,</span>
                <span class="identifier">K</span><span class="special">,</span>
                <span class="identifier">K</span><span class="special">-</span><span class="number">1</span><span class="special">)</span></code>
              </p>
              </td>
</tr>
</tbody>
</table></div>
<div class="important"><table border="0" summary="Important">
<tr>
<td rowspan="2" align="center" valign="top" width="25"><img alt="[Important]" src="../../../doc/html/images/important.png"></td>
<th align="left">Important</th>
</tr>
<tr><td align="left" valign="top"><p>
          <code class="computeroutput"><a href="forwarding_strategies.html#egg.forwarding_strategies.argument_list" title="Argument list"><code class="computeroutput"><span class="identifier">__arg_list</span></code></a></code> and <code class="computeroutput"><a href="forwarding_strategies.html#egg.forwarding_strategies.argument_list" title="Argument list"><code class="computeroutput"><span class="identifier">__fwd_arg_list</span></code></a></code>
          have slightly different semantics. Put simply, in the case of <a href="function_adaptors.html" title="Function Adaptors">Function
          Adaptors</a> with <code class="computeroutput"><span class="identifier">by_value</span></code>,
          a "base" <a href="http://www.sgi.com/tech/stl/functors.html" target="_top">Function
          Object</a> too must take its arguments by value or const reference.
        </p></td></tr>
</table></div>
<a name="egg.forwarding_strategies.argument_list.see_also"></a><h5>
<a name="id533454"></a>
        <a href="forwarding_strategies.html#egg.forwarding_strategies.argument_list.see_also">See also</a>
      </h5>
<div class="itemizedlist"><ul type="disc"><li>
          The <a href="http://www.open-std.org/jtc1/sc22/wg21/docs/papers/2002/n1385.htm" target="_top">Forwarding
          Problem</a>
</li></ul></div>
</div>
<div class="section" lang="en">
<div class="titlepage"><div><div><h3 class="title">
<a name="egg.forwarding_strategies.by_perfect"></a><a href="forwarding_strategies.html#egg.forwarding_strategies.by_perfect" title="by_perfect">by_perfect</a></h3></div></div></div>
<a name="egg.forwarding_strategies.by_perfect.description"></a><h5>
<a name="id533514"></a>
        <a href="forwarding_strategies.html#egg.forwarding_strategies.by_perfect.description">Description</a>
      </h5>
<p>
        Egg performs "perfect forwarding" by default.
      </p>
<a name="egg.forwarding_strategies.by_perfect.header"></a><h5>
<a name="id533545"></a>
        <a href="forwarding_strategies.html#egg.forwarding_strategies.by_perfect.header">Header</a>
      </h5>
<div class="itemizedlist"><ul type="disc"><li><code class="computeroutput"><span class="special">&lt;</span><span class="identifier">boost</span><span class="special">/</span><span class="identifier">egg</span><span class="special">/</span><span class="identifier">by_perfect</span><span class="special">.</span><span class="identifier">hpp</span><span class="special">&gt;</span></code></li></ul></div>
<a name="egg.forwarding_strategies.by_perfect.notation"></a><h5>
<a name="id533628"></a>
        <a href="forwarding_strategies.html#egg.forwarding_strategies.by_perfect.notation">Notation</a>
      </h5>
<div class="itemizedlist"><ul type="disc">
<li>
<code class="computeroutput"><span class="identifier">remove_cr</span><span class="special">(</span><span class="identifier">x</span><span class="special">)</span></code> is
          <code class="computeroutput"><span class="identifier">boost</span><span class="special">::</span><span class="identifier">remove_const</span><span class="special">&lt;</span><span class="identifier">boost</span><span class="special">::</span><span class="identifier">remove_reference</span><span class="special">&lt;</span><a href="../index.html#egg.overview.notation" title="Notation"><code class="computeroutput"><span class="identifier">__decltype</span></code></a><span class="special">(</span><span class="identifier">x</span><span class="special">)&gt;::</span><span class="identifier">type</span><span class="special">&gt;::</span><span class="identifier">type</span></code>.
        </li>
<li>
<code class="computeroutput"><span class="identifier">bI</span></code> is any object such that
          <code class="computeroutput"><span class="identifier">remove_cr</span><span class="special">(</span><span class="identifier">bI</span><span class="special">)</span></code> is
          the same as <code class="computeroutput"><span class="identifier">remove_cr</span><span class="special">(</span><span class="identifier">aI</span><span class="special">)</span></code>.
        </li>
</ul></div>
<a name="egg.forwarding_strategies.by_perfect.valid_expressions"></a><h5>
<a name="id533847"></a>
        <a href="forwarding_strategies.html#egg.forwarding_strategies.by_perfect.valid_expressions">Valid
        expressions</a>
      </h5>
<div class="informaltable"><table class="table">
<colgroup>
<col>
<col>
</colgroup>
<thead><tr>
<th>
              <p>
                <span class="bold"><strong>Valid expression</strong></span>
              </p>
              </th>
<th>
              <p>
                <span class="bold"><strong>Semantics</strong></span>
              </p>
              </th>
</tr></thead>
<tbody>
<tr>
<td>
              <p>
                <code class="computeroutput"><a href="forwarding_strategies.html#egg.forwarding_strategies.argument_list" title="Argument list"><code class="computeroutput"><span class="identifier">__bytag_at</span></code></a><span class="special">(</span><span class="identifier">by_perfect</span><span class="special">,</span>
                <span class="identifier">K</span><span class="special">,</span>
                <span class="identifier">I</span><span class="special">)</span></code>
              </p>
              </td>
<td>
              <p>
                <code class="computeroutput"><span class="identifier">by_perfect</span></code>
              </p>
              </td>
</tr>
<tr>
<td>
              <p>
                <code class="computeroutput"><a href="forwarding_strategies.html#egg.forwarding_strategies.argument_list" title="Argument list"><code class="computeroutput"><span class="identifier">__arg_list</span></code></a><span class="special">(</span><span class="identifier">a</span><span class="special">,</span> <span class="identifier">by_perfect</span><span class="special">)</span></code>
              </p>
              </td>
<td>
              <p>
                <code class="computeroutput"><a href="forwarding_strategies.html" title="Forwarding Strategies"><code class="computeroutput"><span class="identifier">__arg</span></code></a><span class="special">(</span><span class="identifier">a1</span><span class="special">),...,</span><a href="forwarding_strategies.html" title="Forwarding Strategies"><code class="computeroutput"><span class="identifier">__arg</span></code></a><span class="special">(</span><span class="identifier">aK</span><span class="special">)</span></code>
              </p>
              </td>
</tr>
<tr>
<td>
              <p>
                <code class="computeroutput"><a href="forwarding_strategies.html#egg.forwarding_strategies.argument_list" title="Argument list"><code class="computeroutput"><span class="identifier">__meta_arg_list</span></code></a><span class="special">(</span><span class="identifier">a</span><span class="special">,</span> <span class="identifier">by_perfect</span><span class="special">)</span></code>
              </p>
              </td>
<td>
              <p>
                <code class="computeroutput"><a href="forwarding_strategies.html" title="Forwarding Strategies"><code class="computeroutput"><span class="identifier">__ref</span></code></a><span class="special">(</span><span class="identifier">a1</span><span class="special">),...,</span><a href="forwarding_strategies.html" title="Forwarding Strategies"><code class="computeroutput"><span class="identifier">__ref</span></code></a><span class="special">(</span><span class="identifier">aK</span><span class="special">)</span></code>
              </p>
              </td>
</tr>
<tr>
<td>
              <p>
                <code class="computeroutput"><span class="identifier">function</span><span class="special">&lt;</span><a href="../index.html#egg.overview.notation" title="Notation"><code class="computeroutput"><span class="identifier">__Lit</span></code></a><span class="special">,</span> <span class="identifier">by_perfect</span><span class="special">&gt;</span></code>
              </p>
              </td>
<td>
              <p>
                See <a href="function_builders.html#egg.function_builders.function" title="function"><code class="computeroutput"><span class="identifier">function</span></code></a>.
              </p>
              </td>
</tr>
</tbody>
</table></div>
<a name="egg.forwarding_strategies.by_perfect.preconditions"></a><h5>
<a name="id534346"></a>
        <a href="forwarding_strategies.html#egg.forwarding_strategies.by_perfect.preconditions">Preconditions</a>
      </h5>
<div class="itemizedlist"><ul type="disc">
<li>
<code class="computeroutput"><span class="number">0</span> <span class="special">&lt;=</span>
          <span class="identifier">K</span> <span class="special">&amp;&amp;</span>
          <span class="identifier">K</span> <span class="special">&lt;=</span>
          <span class="identifier">BOOST_EGG_MAX_ARITY</span></code>.
        </li>
<li>
          If <code class="computeroutput"><span class="identifier">Expr</span><span class="special">(</span><a href="forwarding_strategies.html#egg.forwarding_strategies.argument_list" title="Argument list"><code class="computeroutput"><span class="identifier">__arg_list</span></code></a><span class="special">(</span><span class="identifier">a</span><span class="special">,</span>
          <span class="identifier">by_perfect</span><span class="special">))</span></code>
          is a precondition as valid expression, <code class="computeroutput"><span class="identifier">Expr</span><span class="special">(</span><a href="forwarding_strategies.html#egg.forwarding_strategies.argument_list" title="Argument list"><code class="computeroutput"><span class="identifier">__arg_list</span></code></a><span class="special">(</span><span class="identifier">b</span><span class="special">,</span> <span class="identifier">by_perfect</span><span class="special">))</span></code> must be well-formed.
        </li>
<li>
          If <code class="computeroutput"><span class="identifier">Expr</span><span class="special">(</span><a href="forwarding_strategies.html#egg.forwarding_strategies.argument_list" title="Argument list"><code class="computeroutput"><span class="identifier">__meta_arg_list</span></code></a><span class="special">(</span><span class="identifier">a</span><span class="special">,</span>
          <span class="identifier">by_perfect</span><span class="special">))</span></code>
          is a precondition as valid expression, <code class="computeroutput"><span class="identifier">Expr</span><span class="special">(</span><a href="forwarding_strategies.html#egg.forwarding_strategies.argument_list" title="Argument list"><code class="computeroutput"><span class="identifier">__meta_arg_list</span></code></a><span class="special">(</span><span class="identifier">b</span><span class="special">,</span> <span class="identifier">by_perfect</span><span class="special">))</span></code> must be well-formed.
        </li>
</ul></div>
<a name="egg.forwarding_strategies.by_perfect.example"></a><h5>
<a name="id534667"></a>
        <a href="forwarding_strategies.html#egg.forwarding_strategies.by_perfect.example">Example</a>
      </h5>
<div class="itemizedlist"><ul type="disc"><li>
<code class="computeroutput"><a href="forwarding_strategies.html#egg.forwarding_strategies.argument_list" title="Argument list"><code class="computeroutput"><span class="identifier">__meta_arg_list</span></code></a><span class="special">(</span><span class="identifier">a</span><span class="special">,</span> <span class="identifier">by_perfect</span><span class="special">)</span></code> is <code class="computeroutput"><span class="keyword">int</span><span class="special">,</span><span class="keyword">const</span> <span class="keyword">int</span><span class="special">,</span><span class="keyword">int</span>
          <span class="keyword">const</span></code> if <code class="computeroutput"><span class="identifier">a</span></code>
          is <code class="computeroutput"><span class="identifier">i</span><span class="special">,</span><span class="number">3</span><span class="special">,</span><span class="identifier">ci</span></code>,
          where <code class="computeroutput"><span class="identifier">i</span></code> is a non-const
          lvalue and <code class="computeroutput"><span class="identifier">ci</span></code> is a const
          lvalue.
        </li></ul></div>
<a name="egg.forwarding_strategies.by_perfect.see_also"></a><h5>
<a name="id534856"></a>
        <a href="forwarding_strategies.html#egg.forwarding_strategies.by_perfect.see_also">See also</a>
      </h5>
<div class="itemizedlist"><ul type="disc"><li>
          The <a href="http://www.open-std.org/jtc1/sc22/wg21/docs/papers/2002/n1385.htm" target="_top">Forwarding
          Problem</a>
</li></ul></div>
</div>
<div class="section" lang="en">
<div class="titlepage"><div><div><h3 class="title">
<a name="egg.forwarding_strategies.by_ref"></a><a href="forwarding_strategies.html#egg.forwarding_strategies.by_ref" title="by_ref">by_ref</a></h3></div></div></div>
<a name="egg.forwarding_strategies.by_ref.description"></a><h5>
<a name="id534917"></a>
        <a href="forwarding_strategies.html#egg.forwarding_strategies.by_ref.description">Description</a>
      </h5>
<p>
        <code class="computeroutput"><span class="identifier">by_ref</span></code> offers large arity,
        but can't take non-const rvalues.
      </p>
<a name="egg.forwarding_strategies.by_ref.header"></a><h5>
<a name="id534959"></a>
        <a href="forwarding_strategies.html#egg.forwarding_strategies.by_ref.header">Header</a>
      </h5>
<div class="itemizedlist"><ul type="disc"><li><code class="computeroutput"><span class="special">&lt;</span><span class="identifier">boost</span><span class="special">/</span><span class="identifier">egg</span><span class="special">/</span><span class="identifier">by_ref</span><span class="special">.</span><span class="identifier">hpp</span><span class="special">&gt;</span></code></li></ul></div>
<a name="egg.forwarding_strategies.by_ref.valid_expressions"></a><h5>
<a name="id535042"></a>
        <a href="forwarding_strategies.html#egg.forwarding_strategies.by_ref.valid_expressions">Valid
        expressions</a>
      </h5>
<div class="informaltable"><table class="table">
<colgroup>
<col>
<col>
</colgroup>
<thead><tr>
<th>
              <p>
                <span class="bold"><strong>Valid expression</strong></span>
              </p>
              </th>
<th>
              <p>
                <span class="bold"><strong>Semantics</strong></span>
              </p>
              </th>
</tr></thead>
<tbody>
<tr>
<td>
              <p>
                <code class="computeroutput"><a href="forwarding_strategies.html#egg.forwarding_strategies.argument_list" title="Argument list"><code class="computeroutput"><span class="identifier">__bytag_at</span></code></a><span class="special">(</span><span class="identifier">by_ref</span><span class="special">,</span>
                <span class="identifier">K</span><span class="special">,</span>
                <span class="identifier">I</span><span class="special">)</span></code>
              </p>
              </td>
<td>
              <p>
                <code class="computeroutput"><span class="identifier">by_ref</span></code>
              </p>
              </td>
</tr>
<tr>
<td>
              <p>
                <code class="computeroutput"><a href="forwarding_strategies.html#egg.forwarding_strategies.argument_list" title="Argument list"><code class="computeroutput"><span class="identifier">__arg_list</span></code></a><span class="special">(</span><span class="identifier">a</span><span class="special">,</span> <span class="identifier">by_ref</span><span class="special">)</span></code>
              </p>
              </td>
<td>
              <p>
                <code class="computeroutput"><a href="forwarding_strategies.html" title="Forwarding Strategies"><code class="computeroutput"><span class="identifier">__arg</span></code></a><span class="special">(</span><span class="identifier">a1</span><span class="special">),...,</span><a href="forwarding_strategies.html" title="Forwarding Strategies"><code class="computeroutput"><span class="identifier">__arg</span></code></a><span class="special">(</span><span class="identifier">aK</span><span class="special">)</span></code>
              </p>
              </td>
</tr>
<tr>
<td>
              <p>
                <code class="computeroutput"><a href="forwarding_strategies.html#egg.forwarding_strategies.argument_list" title="Argument list"><code class="computeroutput"><span class="identifier">__meta_arg_list</span></code></a><span class="special">(</span><span class="identifier">a</span><span class="special">,</span> <span class="identifier">by_ref</span><span class="special">)</span></code>
              </p>
              </td>
<td>
              <p>
                <code class="computeroutput"><a href="forwarding_strategies.html" title="Forwarding Strategies"><code class="computeroutput"><span class="identifier">__ref</span></code></a><span class="special">(</span><span class="identifier">a1</span><span class="special">),...,</span><a href="forwarding_strategies.html" title="Forwarding Strategies"><code class="computeroutput"><span class="identifier">__ref</span></code></a><span class="special">(</span><span class="identifier">aK</span><span class="special">)</span></code>
              </p>
              </td>
</tr>
<tr>
<td>
              <p>
                <code class="computeroutput"><span class="identifier">function</span><span class="special">&lt;</span><a href="../index.html#egg.overview.notation" title="Notation"><code class="computeroutput"><span class="identifier">__Lit</span></code></a><span class="special">,</span> <span class="identifier">by_ref</span><span class="special">&gt;</span></code>
              </p>
              </td>
<td>
              <p>
                See <a href="function_builders.html#egg.function_builders.function" title="function"><code class="computeroutput"><span class="identifier">function</span></code></a>.
              </p>
              </td>
</tr>
</tbody>
</table></div>
<a name="egg.forwarding_strategies.by_ref.preconditions"></a><h5>
<a name="id535541"></a>
        <a href="forwarding_strategies.html#egg.forwarding_strategies.by_ref.preconditions">Preconditions</a>
      </h5>
<div class="itemizedlist"><ul type="disc">
<li>
<code class="computeroutput"><span class="number">0</span> <span class="special">&lt;=</span>
          <span class="identifier">K</span> <span class="special">&amp;&amp;</span>
          <span class="identifier">K</span> <span class="special">&lt;=</span>
          <span class="identifier">BOOST_EGG_MAX_LINEAR_ARITY</span></code>.
        </li>
<li>
<code class="computeroutput"><span class="identifier">aI</span></code> is not a rvalue.
        </li>
</ul></div>
<a name="egg.forwarding_strategies.by_ref.example"></a><h5>
<a name="id535638"></a>
        <a href="forwarding_strategies.html#egg.forwarding_strategies.by_ref.example">Example</a>
      </h5>
<div class="itemizedlist"><ul type="disc"><li>
<code class="computeroutput"><a href="forwarding_strategies.html#egg.forwarding_strategies.argument_list" title="Argument list"><code class="computeroutput"><span class="identifier">__meta_arg_list</span></code></a><span class="special">(</span><span class="identifier">a</span><span class="special">,</span> <span class="identifier">by_ref</span><span class="special">)</span></code> is <code class="computeroutput"><span class="keyword">int</span><span class="special">,</span><span class="keyword">const</span> <span class="keyword">int</span><span class="special">,</span><span class="keyword">int</span>
          <span class="keyword">const</span></code> if <code class="computeroutput"><span class="identifier">a</span></code>
          is <code class="computeroutput"><span class="identifier">i</span><span class="special">,</span><span class="identifier">ci</span><span class="special">,</span><span class="identifier">ci</span></code>,
          where <code class="computeroutput"><span class="identifier">i</span></code> is a non-const
          lvalue and <code class="computeroutput"><span class="identifier">ci</span></code> is a const
          lvalue.
        </li></ul></div>
<a name="egg.forwarding_strategies.by_ref.see_also"></a><h5>
<a name="id535827"></a>
        <a href="forwarding_strategies.html#egg.forwarding_strategies.by_ref.see_also">See also</a>
      </h5>
<div class="itemizedlist"><ul type="disc"><li>
          The <a href="http://www.open-std.org/jtc1/sc22/wg21/docs/papers/2002/n1385.htm" target="_top">Forwarding
          Problem</a>
</li></ul></div>
</div>
<div class="section" lang="en">
<div class="titlepage"><div><div><h3 class="title">
<a name="egg.forwarding_strategies.by_cref"></a><a href="forwarding_strategies.html#egg.forwarding_strategies.by_cref" title="by_cref">by_cref</a></h3></div></div></div>
<a name="egg.forwarding_strategies.by_cref.description"></a><h5>
<a name="id535890"></a>
        <a href="forwarding_strategies.html#egg.forwarding_strategies.by_cref.description">Description</a>
      </h5>
<p>
        <code class="computeroutput"><span class="identifier">by_cref</span></code> takes arguments by
        <span class="emphasis"><em>const reference</em></span>.
      </p>
<a name="egg.forwarding_strategies.by_cref.header"></a><h5>
<a name="id535935"></a>
        <a href="forwarding_strategies.html#egg.forwarding_strategies.by_cref.header">Header</a>
      </h5>
<div class="itemizedlist"><ul type="disc"><li><code class="computeroutput"><span class="special">&lt;</span><span class="identifier">boost</span><span class="special">/</span><span class="identifier">egg</span><span class="special">/</span><span class="identifier">by_cref</span><span class="special">.</span><span class="identifier">hpp</span><span class="special">&gt;</span></code></li></ul></div>
<a name="egg.forwarding_strategies.by_cref.valid_expressions"></a><h5>
<a name="id536017"></a>
        <a href="forwarding_strategies.html#egg.forwarding_strategies.by_cref.valid_expressions">Valid
        expressions</a>
      </h5>
<div class="informaltable"><table class="table">
<colgroup>
<col>
<col>
</colgroup>
<thead><tr>
<th>
              <p>
                <span class="bold"><strong>Valid expression</strong></span>
              </p>
              </th>
<th>
              <p>
                <span class="bold"><strong>Semantics</strong></span>
              </p>
              </th>
</tr></thead>
<tbody>
<tr>
<td>
              <p>
                <code class="computeroutput"><a href="forwarding_strategies.html#egg.forwarding_strategies.argument_list" title="Argument list"><code class="computeroutput"><span class="identifier">__bytag_at</span></code></a><span class="special">(</span><span class="identifier">by_cref</span><span class="special">,</span>
                <span class="identifier">K</span><span class="special">,</span>
                <span class="identifier">I</span><span class="special">)</span></code>
              </p>
              </td>
<td>
              <p>
                <code class="computeroutput"><span class="identifier">by_cref</span></code>
              </p>
              </td>
</tr>
<tr>
<td>
              <p>
                <code class="computeroutput"><a href="forwarding_strategies.html#egg.forwarding_strategies.argument_list" title="Argument list"><code class="computeroutput"><span class="identifier">__arg_list</span></code></a><span class="special">(</span><span class="identifier">a</span><span class="special">,</span> <span class="identifier">by_cref</span><span class="special">)</span></code>
              </p>
              </td>
<td>
              <p>
                <code class="computeroutput"><a href="forwarding_strategies.html" title="Forwarding Strategies"><code class="computeroutput"><span class="identifier">__cref</span></code></a><span class="special">(</span><span class="identifier">a1</span><span class="special">),...,</span><a href="forwarding_strategies.html" title="Forwarding Strategies"><code class="computeroutput"><span class="identifier">__cref</span></code></a><span class="special">(</span><span class="identifier">aK</span><span class="special">)</span></code>
              </p>
              </td>
</tr>
<tr>
<td>
              <p>
                <code class="computeroutput"><a href="forwarding_strategies.html#egg.forwarding_strategies.argument_list" title="Argument list"><code class="computeroutput"><span class="identifier">__meta_arg_list</span></code></a><span class="special">(</span><span class="identifier">a</span><span class="special">,</span> <span class="identifier">by_cref</span><span class="special">)</span></code>
              </p>
              </td>
<td>
              <p>
                <code class="computeroutput"><a href="../index.html#egg.overview.notation" title="Notation"><code class="computeroutput"><span class="identifier">__typeof</span></code></a><span class="special">(</span><span class="identifier">a1</span><span class="special">)</span> <span class="keyword">const</span><span class="special">,...,</span><a href="../index.html#egg.overview.notation" title="Notation"><code class="computeroutput"><span class="identifier">__typeof</span></code></a><span class="special">(</span><span class="identifier">aK</span><span class="special">)</span> <span class="keyword">const</span></code>
              </p>
              </td>
</tr>
<tr>
<td>
              <p>
                <code class="computeroutput"><span class="identifier">function</span><span class="special">&lt;</span><a href="../index.html#egg.overview.notation" title="Notation"><code class="computeroutput"><span class="identifier">__Lit</span></code></a><span class="special">,</span> <span class="identifier">by_cref</span><span class="special">&gt;</span></code>
              </p>
              </td>
<td>
              <p>
                See <a href="function_builders.html#egg.function_builders.function" title="function"><code class="computeroutput"><span class="identifier">function</span></code></a>.
              </p>
              </td>
</tr>
</tbody>
</table></div>
<a name="egg.forwarding_strategies.by_cref.preconditions"></a><h5>
<a name="id536533"></a>
        <a href="forwarding_strategies.html#egg.forwarding_strategies.by_cref.preconditions">Preconditions</a>
      </h5>
<div class="itemizedlist"><ul type="disc"><li>
<code class="computeroutput"><span class="number">0</span> <span class="special">&lt;=</span>
          <span class="identifier">K</span> <span class="special">&amp;&amp;</span>
          <span class="identifier">K</span> <span class="special">&lt;=</span>
          <span class="identifier">BOOST_EGG_MAX_LINEAR_ARITY</span></code>.
        </li></ul></div>
<a name="egg.forwarding_strategies.by_cref.example"></a><h5>
<a name="id536614"></a>
        <a href="forwarding_strategies.html#egg.forwarding_strategies.by_cref.example">Example</a>
      </h5>
<div class="itemizedlist"><ul type="disc"><li>
<code class="computeroutput"><a href="forwarding_strategies.html#egg.forwarding_strategies.argument_list" title="Argument list"><code class="computeroutput"><span class="identifier">__meta_arg_list</span></code></a><span class="special">(</span><span class="identifier">a</span><span class="special">,</span> <span class="identifier">by_cref</span><span class="special">)</span></code> is <code class="computeroutput"><span class="keyword">int</span>
          <span class="keyword">const</span><span class="special">,</span><span class="keyword">const</span> <span class="keyword">int</span><span class="special">,</span><span class="keyword">int</span> <span class="keyword">const</span></code>
          if <code class="computeroutput"><span class="identifier">a</span></code> is <code class="computeroutput"><span class="identifier">i</span><span class="special">,</span><span class="identifier">ci</span><span class="special">,</span><span class="identifier">ci</span></code>, where <code class="computeroutput"><span class="identifier">i</span></code>
          is a non-const lvalue and <code class="computeroutput"><span class="identifier">ci</span></code>
          is a const lvalue.
        </li></ul></div>
<a name="egg.forwarding_strategies.by_cref.see_also"></a><h5>
<a name="id536810"></a>
        <a href="forwarding_strategies.html#egg.forwarding_strategies.by_cref.see_also">See also</a>
      </h5>
<div class="itemizedlist"><ul type="disc"><li>
          The <a href="http://www.open-std.org/jtc1/sc22/wg21/docs/papers/2002/n1385.htm" target="_top">Forwarding
          Problem</a>
</li></ul></div>
</div>
<div class="section" lang="en">
<div class="titlepage"><div><div><h3 class="title">
<a name="egg.forwarding_strategies.by_value"></a><a href="forwarding_strategies.html#egg.forwarding_strategies.by_value" title="by_value">by_value</a></h3></div></div></div>
<a name="egg.forwarding_strategies.by_value.description"></a><h5>
<a name="id536871"></a>
        <a href="forwarding_strategies.html#egg.forwarding_strategies.by_value.description">Description</a>
      </h5>
<p>
        <code class="computeroutput"><span class="identifier">by_value</span></code> takes arguments
        by value so that arguments are "decayed". Also, it can forward
        "movable" rvalues like <code class="computeroutput"><span class="identifier">std</span><span class="special">::</span><span class="identifier">auto_ptr</span><span class="special">&lt;&gt;</span></code> with keeping movability.
      </p>
<a name="egg.forwarding_strategies.by_value.header"></a><h5>
<a name="id536939"></a>
        <a href="forwarding_strategies.html#egg.forwarding_strategies.by_value.header">Header</a>
      </h5>
<div class="itemizedlist"><ul type="disc"><li><code class="computeroutput"><span class="special">&lt;</span><span class="identifier">boost</span><span class="special">/</span><span class="identifier">egg</span><span class="special">/</span><span class="identifier">by_value</span><span class="special">.</span><span class="identifier">hpp</span><span class="special">&gt;</span></code></li></ul></div>
<a name="egg.forwarding_strategies.by_value.valid_expressions"></a><h5>
<a name="id537022"></a>
        <a href="forwarding_strategies.html#egg.forwarding_strategies.by_value.valid_expressions">Valid
        expressions</a>
      </h5>
<div class="informaltable"><table class="table">
<colgroup>
<col>
<col>
</colgroup>
<thead><tr>
<th>
              <p>
                <span class="bold"><strong>Valid expression</strong></span>
              </p>
              </th>
<th>
              <p>
                <span class="bold"><strong>Semantics</strong></span>
              </p>
              </th>
</tr></thead>
<tbody>
<tr>
<td>
              <p>
                <code class="computeroutput"><a href="forwarding_strategies.html#egg.forwarding_strategies.argument_list" title="Argument list"><code class="computeroutput"><span class="identifier">__bytag_at</span></code></a><span class="special">(</span><span class="identifier">by_value</span><span class="special">,</span>
                <span class="identifier">K</span><span class="special">,</span>
                <span class="identifier">I</span><span class="special">)</span></code>
              </p>
              </td>
<td>
              <p>
                <code class="computeroutput"><span class="identifier">by_value</span></code>
              </p>
              </td>
</tr>
<tr>
<td>
              <p>
                <code class="computeroutput"><a href="forwarding_strategies.html#egg.forwarding_strategies.argument_list" title="Argument list"><code class="computeroutput"><span class="identifier">__arg_list</span></code></a><span class="special">(</span><span class="identifier">a</span><span class="special">,</span> <span class="identifier">by_value</span><span class="special">)</span></code>
              </p>
              </td>
<td>
              <p>
                <code class="computeroutput"><a href="forwarding_strategies.html" title="Forwarding Strategies"><code class="computeroutput"><span class="identifier">__val</span></code></a><span class="special">(</span><span class="identifier">a1</span><span class="special">),...,</span><a href="forwarding_strategies.html" title="Forwarding Strategies"><code class="computeroutput"><span class="identifier">__val</span></code></a><span class="special">(</span><span class="identifier">aK</span><span class="special">)</span></code>
              </p>
              </td>
</tr>
<tr>
<td>
              <p>
                <code class="computeroutput"><a href="forwarding_strategies.html#egg.forwarding_strategies.argument_list" title="Argument list"><code class="computeroutput"><span class="identifier">__meta_arg_list</span></code></a><span class="special">(</span><span class="identifier">a</span><span class="special">,</span> <span class="identifier">by_value</span><span class="special">)</span></code>
              </p>
              </td>
<td>
              <p>
                <code class="computeroutput"><a href="../index.html#egg.overview.notation" title="Notation"><code class="computeroutput"><span class="identifier">__typeof</span></code></a><span class="special">(</span><span class="identifier">a1</span><span class="special">),...,</span><a href="../index.html#egg.overview.notation" title="Notation"><code class="computeroutput"><span class="identifier">__typeof</span></code></a><span class="special">(</span><span class="identifier">aK</span><span class="special">)</span></code>
              </p>
              </td>
</tr>
<tr>
<td>
              <p>
                <code class="computeroutput"><span class="identifier">function</span><span class="special">&lt;</span><a href="../index.html#egg.overview.notation" title="Notation"><code class="computeroutput"><span class="identifier">__Lit</span></code></a><span class="special">,</span> <span class="identifier">by_value</span><span class="special">&gt;</span></code>
              </p>
              </td>
<td>
              <p>
                See <a href="function_builders.html#egg.function_builders.function" title="function"><code class="computeroutput"><span class="identifier">function</span></code></a>.
              </p>
              </td>
</tr>
</tbody>
</table></div>
<a name="egg.forwarding_strategies.by_value.preconditions"></a><h5>
<a name="id537521"></a>
        <a href="forwarding_strategies.html#egg.forwarding_strategies.by_value.preconditions">Preconditions</a>
      </h5>
<div class="itemizedlist"><ul type="disc"><li>
<code class="computeroutput"><span class="number">0</span> <span class="special">&lt;=</span>
          <span class="identifier">K</span> <span class="special">&amp;&amp;</span>
          <span class="identifier">K</span> <span class="special">&lt;=</span>
          <span class="identifier">BOOST_EGG_MAX_LINEAR_ARITY</span></code>.
        </li></ul></div>
<a name="egg.forwarding_strategies.by_value.example"></a><h5>
<a name="id537605"></a>
        <a href="forwarding_strategies.html#egg.forwarding_strategies.by_value.example">Example</a>
      </h5>
<div class="itemizedlist"><ul type="disc"><li>
<code class="computeroutput"><a href="forwarding_strategies.html#egg.forwarding_strategies.argument_list" title="Argument list"><code class="computeroutput"><span class="identifier">__meta_arg_list</span></code></a><span class="special">(</span><span class="identifier">a</span><span class="special">,</span> <span class="identifier">by_value</span><span class="special">)</span></code> is <code class="computeroutput"><span class="keyword">int</span><span class="special">,</span><span class="keyword">int</span><span class="special">,</span><span class="keyword">int</span></code> if <code class="computeroutput"><span class="identifier">a</span></code>
          is <code class="computeroutput"><span class="identifier">i</span><span class="special">,</span><span class="number">3</span><span class="special">,</span><span class="identifier">ci</span></code>,
          where <code class="computeroutput"><span class="identifier">i</span></code> is a non-const
          lvalue and <code class="computeroutput"><span class="identifier">ci</span></code> is a const
          lvalue.
        </li></ul></div>
<a name="egg.forwarding_strategies.by_value.forwarded_arguments_are_mutable_"></a><h5>
<a name="id537783"></a>
        <a href="forwarding_strategies.html#egg.forwarding_strategies.by_value.forwarded_arguments_are_mutable_">Forwarded
        arguments are mutable.</a>
      </h5>
<p>
        <code class="computeroutput"><span class="identifier">by_value</span></code> copies arguments
        and turns them into mutable lvalues so that generic <a href="concepts.html#egg.concepts.little_function" title="Little Function">Little
        Function</a>s can be written. But, if you know <code class="computeroutput"><span class="identifier">by_value</span></code>
        is used, <a href="concepts.html#egg.concepts.little_function" title="Little Function">Little Function</a>
        <code class="computeroutput"><span class="identifier">call</span></code> should take arguments
        "by value" or <span class="emphasis"><em>const reference</em></span>:
        </p>
<p>
          
</p>
<pre class="programlisting">
<span class="keyword">struct</span> <span class="identifier">little_id</span><span class="special">;</span>
<span class="keyword">typedef</span> <span class="identifier">function</span><span class="special">&lt;</span><span class="identifier">little_id</span><span class="special">,</span> <span class="identifier">by_value</span><span class="special">&gt;</span> <span class="identifier">T_id</span><span class="special">;</span> <span class="callout_bug"><a name="egg28co" href="forwarding_strategies.html#egg28"><img src="../images/callouts/1.png" alt="1" border="0"></a></span>

<span class="keyword">struct</span> <span class="identifier">little_id</span>
<span class="special">{</span>
    <span class="keyword">template</span><span class="special">&lt;</span><span class="keyword">class</span> <span class="identifier">Me</span><span class="special">,</span> <span class="keyword">class</span> <span class="identifier">V</span><span class="special">&gt;</span>
    <span class="keyword">struct</span> <span class="identifier">apply</span>
    <span class="special">{</span>
        <span class="keyword">typedef</span> <span class="identifier">V</span> <span class="identifier">type</span><span class="special">;</span>
    <span class="special">};</span>

    <span class="keyword">template</span><span class="special">&lt;</span><span class="keyword">class</span> <span class="identifier">Re</span><span class="special">,</span> <span class="keyword">class</span> <span class="identifier">V</span><span class="special">&gt;</span>
    <span class="identifier">Re</span> <span class="identifier">call</span><span class="special">(</span><span class="identifier">V</span> <span class="identifier">v</span><span class="special">)</span> <span class="keyword">const</span> <span class="callout_bug"><a name="egg29co" href="forwarding_strategies.html#egg29"><img src="../images/callouts/2.png" alt="2" border="0"></a></span>
    <span class="special">{</span>
        <span class="keyword">return</span> <span class="identifier">v</span><span class="special">;</span>
    <span class="special">}</span>
<span class="special">};</span>
</pre>
<p>
        </p>
<p>
        </p>
<p>
          </p>
<div class="calloutlist"><table border="0" summary="Callout list">
<tr>
<td width="5%" valign="top" align="left">
<a name="egg28"></a><a href="#egg28co"><img src="../images/callouts/1.png" alt="1" border="0"></a> </td>
<td valign="top" align="left"><p> Takes arguments by value. </p></td>
</tr>
<tr>
<td width="5%" valign="top" align="left">
<a name="egg29"></a><a href="#egg29co"><img src="../images/callouts/2.png" alt="2" border="0"></a> </td>
<td valign="top" align="left"><p> <code class="computeroutput"><span class="identifier">Re</span>
          <span class="identifier">call</span><span class="special">(</span><span class="identifier">V</span> <span class="special">&amp;</span><span class="identifier">v</span><span class="special">)</span> <span class="keyword">const</span></code>
          is allowed, but unrecommended. </p></td>
</tr>
</table></div>
<p>
        </p>
<p>
      </p>
<a name="egg.forwarding_strategies.by_value.see_also"></a><h5>
<a name="id538297"></a>
        <a href="forwarding_strategies.html#egg.forwarding_strategies.by_value.see_also">See also</a>
      </h5>
<div class="itemizedlist"><ul type="disc"><li>
          The <a href="http://www.open-std.org/jtc1/sc22/wg21/docs/papers/2002/n1385.htm" target="_top">Forwarding
          Problem</a>
</li></ul></div>
</div>
<div class="section" lang="en">
<div class="titlepage"><div><div><h3 class="title">
<a name="egg.forwarding_strategies.writing_your_own_strategies"></a><a href="forwarding_strategies.html#egg.forwarding_strategies.writing_your_own_strategies" title="Writing your own strategies">Writing
      your own strategies</a></h3></div></div></div>
<a name="egg.forwarding_strategies.writing_your_own_strategies.description"></a><h5>
<a name="id538359"></a>
        <a href="forwarding_strategies.html#egg.forwarding_strategies.writing_your_own_strategies.description">Description</a>
      </h5>
<p>
        The predefined strategies, <code class="computeroutput"><span class="identifier">by_perfect</span></code>
        etc, may be too simple to meet your requirements. Egg provides a uniform
        way to define your own strategies.
      </p>
<a name="egg.forwarding_strategies.writing_your_own_strategies.header"></a><h5>
<a name="id538406"></a>
        <a href="forwarding_strategies.html#egg.forwarding_strategies.writing_your_own_strategies.header">Header</a>
      </h5>
<div class="itemizedlist"><ul type="disc"><li><code class="computeroutput"><span class="special">&lt;</span><span class="identifier">boost</span><span class="special">/</span><span class="identifier">egg</span><span class="special">/</span><span class="identifier">function_extension</span><span class="special">.</span><span class="identifier">hpp</span><span class="special">&gt;</span></code></li></ul></div>
<a name="egg.forwarding_strategies.writing_your_own_strategies.valid_expressions"></a><h5>
<a name="id538491"></a>
        <a href="forwarding_strategies.html#egg.forwarding_strategies.writing_your_own_strategies.valid_expressions">Valid
        expressions</a>
      </h5>
<div class="informaltable"><table class="table">
<colgroup>
<col>
<col>
</colgroup>
<thead><tr>
<th>
              <p>
                <span class="bold"><strong>Valid expression</strong></span>
              </p>
              </th>
<th>
              <p>
                <span class="bold"><strong>Semantics</strong></span>
              </p>
              </th>
</tr></thead>
<tbody>
<tr>
<td>
              <p>
                <code class="computeroutput"><span class="identifier">BOOST_EGG_FUNCTION_PREAMBLE</span><span class="special">()</span></code>
              </p>
              </td>
<td>
              <p>
                See below.
              </p>
              </td>
</tr>
<tr>
<td>
              <p>
                <code class="computeroutput"><span class="identifier">apply_little</span><span class="special">&lt;</span><span class="identifier">Lit</span><span class="special">,</span>
                <span class="identifier">A1</span><span class="special">,...,</span><span class="identifier">AK</span><span class="special">&gt;::</span><span class="identifier">type</span></code>
              </p>
              </td>
<td>
              <p>
                <code class="computeroutput"><span class="identifier">Lit</span><span class="special">::</span><span class="identifier">nullary_result_type</span></code> if <code class="computeroutput"><span class="identifier">K</span> <span class="special">==</span>
                <span class="number">0</span></code>; <code class="computeroutput"><span class="identifier">Lit</span><span class="special">::</span><span class="identifier">apply</span><span class="special">&lt;</span><span class="identifier">Lit</span><span class="special">,</span> <span class="identifier">A1</span><span class="special">,...,</span><span class="identifier">AK</span><span class="special">&gt;::</span><span class="identifier">type</span></code>
                otherwise.
              </p>
              </td>
</tr>
<tr>
<td>
              <p>
                <code class="computeroutput"><span class="identifier">call_little</span><span class="special">(</span><a href="../index.html#egg.overview.notation" title="Notation"><code class="computeroutput"><span class="identifier">__lit</span></code></a><span class="special">,</span> <span class="identifier">a1</span><span class="special">,...,</span><span class="identifier">aK</span><span class="special">)</span></code>
              </p>
              </td>
<td>
              <p>
                <code class="computeroutput"><a href="../index.html#egg.overview.notation" title="Notation"><code class="computeroutput"><span class="identifier">__lit</span></code></a><span class="special">.</span><span class="identifier">call</span><span class="special">&lt;</span><span class="identifier">apply_little</span><span class="special">&lt;</span><a href="forwarding_strategies.html#egg.forwarding_strategies.argument_list" title="Argument list"><code class="computeroutput"><span class="identifier">__meta_arg_list</span></code></a><span class="special">([</span><a href="../index.html#egg.overview.notation" title="Notation"><code class="computeroutput"><span class="identifier">__lit</span></code></a><span class="special">]++</span><span class="identifier">a</span><span class="special">,</span> <span class="identifier">by_ref</span><span class="special">)&gt;::</span><span class="identifier">type</span><span class="special">&gt;(</span><span class="identifier">a1</span><span class="special">,...,</span><span class="identifier">aK</span><span class="special">)</span></code>
              </p>
              </td>
</tr>
<tr>
<td>
              <p>
                <code class="computeroutput"><span class="identifier">by_perfect</span></code>, <code class="computeroutput"><span class="identifier">by_ref</span></code>, <code class="computeroutput"><span class="identifier">by_cref</span></code>,
                and <code class="computeroutput"><span class="identifier">by_value</span></code>
              </p>
              </td>
<td>
              <p>
                These can be used as "meta" return type of strategy tag.
              </p>
              </td>
</tr>
<tr>
<td>
              <p>
                <code class="computeroutput"><span class="identifier">BOOST_EGG_FUNCTION_CALL_OPERATOR</span><span class="special">(</span><span class="identifier">Bytags</span><span class="special">,</span> <span class="identifier">Cv</span><span class="special">)</span></code>
              </p>
              </td>
<td>
              <p>
                See below.
              </p>
              </td>
</tr>
<tr>
<td>
              <p>
                <code class="computeroutput"><span class="identifier">BOOST_EGG_DEDUCED_CONST</span><span class="special">(</span><span class="identifier">T</span><span class="special">)</span></code>
              </p>
              </td>
<td>
              <p>
                <code class="computeroutput"><span class="identifier">T</span> <span class="keyword">const</span></code>
              </p>
              </td>
</tr>
</tbody>
</table></div>
<a name="egg.forwarding_strategies.writing_your_own_strategies.preconditions"></a><h5>
<a name="id539170"></a>
        <a href="forwarding_strategies.html#egg.forwarding_strategies.writing_your_own_strategies.preconditions">Preconditions</a>
      </h5>
<div class="itemizedlist"><ul type="disc">
<li>
<code class="computeroutput"><span class="identifier">Bytags</span></code> is <a href="http://www.boost.org/libs/preprocessor/doc/data/sequences.html" target="_top">Preprocessor
          Sequence</a> of <code class="computeroutput"><a href="../index.html#egg.overview.notation" title="Notation"><code class="computeroutput"><span class="identifier">__Bytag</span></code></a></code>.
        </li>
<li>
<code class="computeroutput"><span class="identifier">Cv</span></code> is <span class="emphasis"><em>cv-qualifier</em></span>
          of <span class="emphasis"><em>call operator</em></span>. In case of no <span class="emphasis"><em>cv-qualifier</em></span>,
          <code class="computeroutput"><span class="identifier">Cv</span></code> must be <code class="computeroutput"><span class="keyword">mutable</span></code>.
        </li>
<li>
<code class="computeroutput"><span class="number">0</span> <span class="special">&lt;=</span>
          <span class="identifier">K</span> <span class="special">&amp;&amp;</span>
          <span class="identifier">K</span> <span class="special">&lt;=</span>
          <span class="identifier">BOOST_EGG_MAX_LINEAR_ARITY</span></code>.
        </li>
</ul></div>
<a name="egg.forwarding_strategies.writing_your_own_strategies.your_strategy_tag"></a><h5>
<a name="id539349"></a>
        <a href="forwarding_strategies.html#egg.forwarding_strategies.writing_your_own_strategies.your_strategy_tag">Your
        strategy tag</a>
      </h5>
<p>
        A user-defined strategy tag is <a href="http://www.boost.org/libs/mpl/doc/refmanual/metafunction-class.html" target="_top">MPL
        Metafunction Class</a> which takes itself, arity and index, then returns
        <code class="computeroutput"><a href="../index.html#egg.overview.notation" title="Notation"><code class="computeroutput"><span class="identifier">__Bytag</span></code></a></code>.
        </p>
<p>
          
</p>
<pre class="programlisting">
<span class="keyword">struct</span> <span class="identifier">your_strategy</span>
<span class="special">{</span>
    <span class="keyword">template</span><span class="special">&lt;</span><span class="keyword">class</span> <span class="identifier">_</span><span class="special">,</span> <span class="keyword">class</span> <span class="identifier">Arity</span><span class="special">,</span> <span class="keyword">class</span> <span class="identifier">Index</span><span class="special">&gt;</span>
    <span class="keyword">struct</span> <span class="identifier">apply</span><span class="special">;</span>

    <span class="keyword">typedef</span> <span class="identifier">boost</span><span class="special">::</span><span class="identifier">mpl</span><span class="special">::</span><span class="identifier">vector</span><span class="special">&lt;</span><span class="identifier">by_perfect</span><span class="special">,</span> <span class="identifier">by_ref</span><span class="special">&gt;</span> <span class="identifier">arity2_bytags</span><span class="special">;</span>

    <span class="keyword">template</span><span class="special">&lt;</span><span class="keyword">class</span> <span class="identifier">_</span><span class="special">,</span> <span class="keyword">class</span> <span class="identifier">Index</span><span class="special">&gt;</span>
    <span class="keyword">struct</span> <span class="identifier">apply</span><span class="special">&lt;</span><span class="identifier">_</span><span class="special">,</span> <span class="identifier">boost</span><span class="special">::</span><span class="identifier">mpl</span><span class="special">::</span><span class="identifier">int_</span><span class="special">&lt;</span><span class="number">2</span><span class="special">&gt;,</span> <span class="identifier">Index</span><span class="special">&gt;</span> <span class="special">:</span>
        <span class="identifier">boost</span><span class="special">::</span><span class="identifier">mpl</span><span class="special">::</span><span class="identifier">at</span><span class="special">&lt;</span><span class="identifier">arity2_bytags</span><span class="special">,</span> <span class="identifier">Index</span><span class="special">&gt;</span>
    <span class="special">{</span> <span class="special">};</span>

    <span class="keyword">template</span><span class="special">&lt;</span><span class="keyword">class</span> <span class="identifier">_</span><span class="special">,</span> <span class="keyword">class</span> <span class="identifier">Index</span><span class="special">&gt;</span>
    <span class="keyword">struct</span> <span class="identifier">apply</span><span class="special">&lt;</span><span class="identifier">_</span><span class="special">,</span> <span class="identifier">boost</span><span class="special">::</span><span class="identifier">mpl</span><span class="special">::</span><span class="identifier">int_</span><span class="special">&lt;</span><span class="number">3</span><span class="special">&gt;,</span> <span class="identifier">Index</span><span class="special">&gt;</span>
    <span class="special">{</span>
        <span class="keyword">typedef</span> <span class="identifier">by_value</span> <span class="identifier">type</span><span class="special">;</span>
    <span class="special">};</span>
<span class="special">};</span>
</pre>
<p>
        </p>
<p>
      </p>
<a name="egg.forwarding_strategies.writing_your_own_strategies.specializing__code__phrase_role__identifier__function__phrase__phrase_role__special___lt__gt___phrase___code_"></a><h5>
<a name="id539960"></a>
        <a href="forwarding_strategies.html#egg.forwarding_strategies.writing_your_own_strategies.specializing__code__phrase_role__identifier__function__phrase__phrase_role__special___lt__gt___phrase___code_">Specializing
        <code class="computeroutput"><span class="identifier">function</span><span class="special">&lt;&gt;</span></code></a>
      </h5>
<p>
        Using your strategy tag, <code class="computeroutput"><span class="identifier">function</span><span class="special">&lt;&gt;</span></code> template can be specialized. <code class="computeroutput"><span class="identifier">BOOST_EGG_FUNCTION_PREAMBLE</span><span class="special">()</span></code>
        must be placed in first, which automagically defines nested typedefs <code class="computeroutput"><span class="identifier">little_type</span></code>, <code class="computeroutput"><span class="identifier">strategy_type</span></code>,
        and <code class="computeroutput"><span class="identifier">result</span><span class="special">&lt;...&gt;</span></code>
        etc.
        </p>
<p>
          
</p>
<pre class="programlisting">
<span class="keyword">namespace</span> <span class="identifier">boost</span> <span class="special">{</span> <span class="keyword">namespace</span> <span class="identifier">egg</span> <span class="special">{</span>

    <span class="keyword">template</span><span class="special">&lt;</span><span class="keyword">class</span> <span class="identifier">Lit</span><span class="special">&gt;</span>
    <span class="keyword">struct</span> <span class="identifier">function</span><span class="special">&lt;</span><span class="identifier">Lit</span><span class="special">,</span> <span class="identifier">your_strategy</span><span class="special">&gt;</span>
    <span class="special">{</span>
        <span class="identifier">BOOST_EGG_FUNCTION_PREAMBLE</span><span class="special">()</span> <span class="callout_bug"><a name="egg30co" href="forwarding_strategies.html#egg30"><img src="../images/callouts/1.png" alt="1" border="0"></a></span>

        <span class="identifier">Lit</span> <span class="identifier">m_lit</span><span class="special">;</span>
        <span class="identifier">Lit</span> <span class="keyword">const</span> <span class="special">&amp;</span> <span class="identifier">little</span><span class="special">()</span> <span class="keyword">const</span> <span class="special">{</span> <span class="keyword">return</span> <span class="identifier">m_lit</span><span class="special">;</span> <span class="special">}</span>

    <span class="comment">// 0ary
</span>        <span class="keyword">typename</span> <span class="identifier">apply_little</span><span class="special">&lt;</span><span class="identifier">Lit</span> <span class="keyword">const</span><span class="special">&gt;::</span><span class="identifier">type</span> <span class="callout_bug"><a name="egg31co" href="forwarding_strategies.html#egg31"><img src="../images/callouts/2.png" alt="2" border="0"></a></span>
        <span class="keyword">operator</span><span class="special">()()</span> <span class="keyword">const</span>
        <span class="special">{</span>
            <span class="keyword">return</span> <span class="identifier">call_little</span><span class="special">(</span><span class="identifier">m_lit</span><span class="special">);</span>
        <span class="special">}</span>

    <span class="comment">// 2ary: by_perfect, by_ref
</span>        <span class="identifier">BOOST_EGG_FUNCTION_CALL_OPERATOR</span><span class="special">((</span><span class="identifier">by_perfect</span><span class="special">)(</span><span class="identifier">by_ref</span><span class="special">),</span> <span class="keyword">const</span><span class="special">)</span>
<span class="preprocessor">#if</span> <span class="number">0</span>   <span class="comment">// Macro above is expaneded to...
</span>        <span class="keyword">template</span><span class="special">&lt;</span><span class="keyword">class</span> <span class="identifier">A0</span><span class="special">,</span> <span class="keyword">class</span> <span class="identifier">A1</span><span class="special">&gt;</span>
        <span class="keyword">typename</span> <span class="identifier">apply_little</span><span class="special">&lt;</span><span class="identifier">Lit</span> <span class="keyword">const</span><span class="special">,</span> <span class="identifier">A0</span><span class="special">,</span> <span class="identifier">A1</span><span class="special">&gt;::</span><span class="identifier">type</span>
        <span class="keyword">operator</span><span class="special">()(</span><span class="identifier">A0</span> <span class="special">&amp;</span><span class="identifier">a0</span><span class="special">,</span> <span class="identifier">A1</span> <span class="special">&amp;</span><span class="identifier">a1</span><span class="special">)</span> <span class="keyword">const</span>
        <span class="special">{</span>
            <span class="keyword">return</span> <span class="identifier">call_little</span><span class="special">(</span><span class="identifier">m_lit</span><span class="special">,</span> <span class="identifier">a0</span><span class="special">,</span> <span class="identifier">a1</span><span class="special">);</span>
        <span class="special">}</span>

        <span class="keyword">template</span><span class="special">&lt;</span><span class="keyword">class</span> <span class="identifier">A0</span><span class="special">,</span> <span class="keyword">class</span> <span class="identifier">A1</span><span class="special">&gt;</span>
        <span class="keyword">typename</span> <span class="identifier">apply_little</span><span class="special">&lt;</span><span class="identifier">Lit</span> <span class="keyword">const</span><span class="special">,</span> <span class="identifier">BOOST_EGG_DEDUCED_CONST</span><span class="special">(</span><span class="identifier">A0</span><span class="special">),</span> <span class="identifier">A1</span><span class="special">&gt;::</span><span class="identifier">type</span> <span class="callout_bug"><a name="egg32co" href="forwarding_strategies.html#egg32"><img src="../images/callouts/3.png" alt="3" border="0"></a></span>
        <span class="keyword">operator</span><span class="special">()(</span><span class="identifier">A0</span> <span class="keyword">const</span> <span class="special">&amp;</span><span class="identifier">a0</span><span class="special">,</span> <span class="identifier">A1</span> <span class="special">&amp;</span><span class="identifier">a1</span><span class="special">)</span> <span class="keyword">const</span>
        <span class="special">{</span>
            <span class="keyword">return</span> <span class="identifier">call_little</span><span class="special">(</span><span class="identifier">m_lit</span><span class="special">,</span> <span class="identifier">a0</span><span class="special">,</span> <span class="identifier">a1</span><span class="special">);</span>
        <span class="special">}</span>
<span class="preprocessor">#endif</span>

    <span class="comment">// 3ary: by_value
</span>        <span class="keyword">template</span><span class="special">&lt;</span><span class="keyword">class</span> <span class="identifier">A0</span><span class="special">,</span> <span class="keyword">class</span> <span class="identifier">A1</span><span class="special">,</span> <span class="keyword">class</span> <span class="identifier">A2</span><span class="special">&gt;</span>
        <span class="keyword">typename</span> <span class="identifier">apply_little</span><span class="special">&lt;</span><span class="identifier">Lit</span> <span class="keyword">const</span><span class="special">,</span> <span class="identifier">A0</span><span class="special">,</span> <span class="identifier">A1</span><span class="special">,</span> <span class="identifier">A2</span><span class="special">&gt;::</span><span class="identifier">type</span>
        <span class="keyword">operator</span><span class="special">()(</span><span class="identifier">A0</span> <span class="identifier">a0</span><span class="special">,</span> <span class="identifier">A1</span> <span class="identifier">a1</span><span class="special">,</span> <span class="identifier">A2</span> <span class="identifier">a2</span><span class="special">)</span> <span class="keyword">const</span>
        <span class="special">{</span>
            <span class="keyword">return</span> <span class="identifier">call_little</span><span class="special">(</span><span class="identifier">m_lit</span><span class="special">,</span> <span class="identifier">a0</span><span class="special">,</span> <span class="identifier">a1</span><span class="special">,</span> <span class="identifier">a2</span><span class="special">);</span>
        <span class="special">}</span>
    <span class="special">};</span>

<span class="special">}</span> <span class="special">}</span>
</pre>
<p>
        </p>
<p>
        </p>
<p>
          </p>
<div class="calloutlist"><table border="0" summary="Callout list">
<tr>
<td width="5%" valign="top" align="left">
<a name="egg30"></a><a href="#egg30co"><img src="../images/callouts/1.png" alt="1" border="0"></a> </td>
<td valign="top" align="left"><p> This must be placed first. </p></td>
</tr>
<tr>
<td width="5%" valign="top" align="left">
<a name="egg31"></a><a href="#egg31co"><img src="../images/callouts/2.png" alt="2" border="0"></a> </td>
<td valign="top" align="left"><p> <code class="computeroutput"><span class="identifier">apply_little</span></code>
          requires <code class="computeroutput"><span class="identifier">_Lit</span></code> to be const-correct.
          </p></td>
</tr>
<tr>
<td width="5%" valign="top" align="left">
<a name="egg32"></a><a href="#egg32co"><img src="../images/callouts/3.png" alt="3" border="0"></a> </td>
<td valign="top" align="left"><p> <code class="computeroutput"><span class="identifier">BOOST_EGG_DEDUCED_CONST</span></code>
          works around msvc-7.1 array bug. </p></td>
</tr>
</table></div>
<p>
        </p>
<p>
        For <code class="computeroutput"><span class="identifier">by_perfect</span></code> call operators,
        it is easy and preferable to use <code class="computeroutput"><span class="identifier">BOOST_EGG_FUNCTION_CALL_OPERATOR</span></code>,
        which will compile much faster in C++0x. Also note, in order to work around
        some compiler bugs, you can use neither <code class="computeroutput"><span class="identifier">result</span></code>
        template nor <code class="computeroutput"><a href="../index.html#egg.overview.notation" title="Notation"><code class="computeroutput"><span class="identifier">__Lit</span></code></a><span class="special">::</span><span class="identifier">call</span></code>
        directly. You have to use <code class="computeroutput"><span class="identifier">apply_little</span></code>
        and <code class="computeroutput"><span class="identifier">call_little</span></code> instead.
        Moreover, if you want to support buggy msvc-7.1, <code class="computeroutput"><span class="identifier">BOOST_EGG_DEDUCED_CONST</span></code>
        instead of <code class="computeroutput"><span class="keyword">const</span></code> must be used
        in <code class="computeroutput"><span class="identifier">apply_little</span></code>.
      </p>
<a name="egg.forwarding_strategies.writing_your_own_strategies.your_strategy_completed"></a><h5>
<a name="id541512"></a>
        <a href="forwarding_strategies.html#egg.forwarding_strategies.writing_your_own_strategies.your_strategy_completed">Your
        strategy completed</a>
      </h5>
<p>
        Now <code class="computeroutput"><span class="identifier">function</span><span class="special">&lt;&gt;</span></code>
        with your strategy is a model of <a href="concepts.html#egg.concepts.major_function_object" title="Major Function Object">Major
        Function Object</a>. Let's look into the new valid expressions.
      </p>
<a name="egg.forwarding_strategies.writing_your_own_strategies.notation"></a><h5>
<a name="id541571"></a>
        <a href="forwarding_strategies.html#egg.forwarding_strategies.writing_your_own_strategies.notation">Notation</a>
      </h5>
<div class="itemizedlist"><ul type="disc">
<li>
<code class="computeroutput"><span class="identifier">StgTag</span></code> is <a href="http://www.boost.org/libs/mpl/doc/refmanual/metafunction-class.html" target="_top">MPL
          Metafunction Class</a> which you have defined.
        </li>
<li>
<code class="computeroutput"><span class="identifier">StgTag_</span></code> is (possibly <span class="emphasis"><em>cv-qualified</em></span>)
          <code class="computeroutput"><span class="identifier">StgTag</span></code>.
        </li>
</ul></div>
<a name="egg.forwarding_strategies.writing_your_own_strategies.new_valid_expressions"></a><h5>
<a name="id541658"></a>
        <a href="forwarding_strategies.html#egg.forwarding_strategies.writing_your_own_strategies.new_valid_expressions">New
        valid expressions</a>
      </h5>
<div class="informaltable"><table class="table">
<colgroup>
<col>
<col>
</colgroup>
<thead><tr>
<th>
              <p>
                <span class="bold"><strong>Valid expression</strong></span>
              </p>
              </th>
<th>
              <p>
                <span class="bold"><strong>Semantics</strong></span>
              </p>
              </th>
</tr></thead>
<tbody>
<tr>
<td>
              <p>
                <code class="computeroutput"><a href="forwarding_strategies.html#egg.forwarding_strategies.argument_list" title="Argument list"><code class="computeroutput"><span class="identifier">__bytag_at</span></code></a><span class="special">(</span><span class="identifier">StgTag</span><span class="special">,</span>
                <span class="identifier">K</span><span class="special">,</span>
                <span class="identifier">I</span><span class="special">)</span></code>
              </p>
              </td>
<td>
              <p>
                <code class="computeroutput"><span class="identifier">StgTag_</span><span class="special">::</span><span class="identifier">apply</span><span class="special">&lt;</span>
                <span class="identifier">StgTag_</span><span class="special">,</span>
                <a href="../index.html#egg.overview.notation" title="Notation"><code class="computeroutput"><span class="identifier">__mpl</span></code></a><span class="special">::</span><span class="identifier">int_</span><span class="special">&lt;</span><span class="identifier">K</span><span class="special">&gt;,</span> <a href="../index.html#egg.overview.notation" title="Notation"><code class="computeroutput"><span class="identifier">__mpl</span></code></a><span class="special">::</span><span class="identifier">int_</span><span class="special">&lt;</span><span class="identifier">I</span><span class="special">&gt;</span>
                <span class="special">&gt;::</span><span class="identifier">type</span></code>
              </p>
              </td>
</tr>
<tr>
<td>
              <p>
                <code class="computeroutput"><a href="forwarding_strategies.html#egg.forwarding_strategies.argument_list" title="Argument list"><code class="computeroutput"><span class="identifier">__arg_list</span></code></a><span class="special">(</span><span class="identifier">a</span><span class="special">,</span> <span class="identifier">StgTag</span><span class="special">)</span></code>
              </p>
              </td>
<td>
              <p>
                <code class="computeroutput"><a href="forwarding_strategies.html#egg.forwarding_strategies.argument_list" title="Argument list"><code class="computeroutput"><span class="identifier">__arg_list</span></code></a><span class="special">([</span><span class="identifier">a1</span><span class="special">],</span>
                <a href="forwarding_strategies.html#egg.forwarding_strategies.argument_list" title="Argument list"><code class="computeroutput"><span class="identifier">__bytag_at</span></code></a><span class="special">(</span><span class="identifier">StgTag</span><span class="special">,</span>
                <span class="identifier">K</span><span class="special">,</span>
                <span class="number">0</span><span class="special">))++...++</span><a href="forwarding_strategies.html#egg.forwarding_strategies.argument_list" title="Argument list"><code class="computeroutput"><span class="identifier">__arg_list</span></code></a><span class="special">([</span><span class="identifier">aK</span><span class="special">],</span> <a href="forwarding_strategies.html#egg.forwarding_strategies.argument_list" title="Argument list"><code class="computeroutput"><span class="identifier">__bytag_at</span></code></a><span class="special">(</span><span class="identifier">StgTag</span><span class="special">,</span>
                <span class="identifier">K</span><span class="special">,</span>
                <span class="identifier">K</span><span class="special">-</span><span class="number">1</span><span class="special">))</span></code>
              </p>
              </td>
</tr>
<tr>
<td>
              <p>
                <code class="computeroutput"><a href="forwarding_strategies.html#egg.forwarding_strategies.argument_list" title="Argument list"><code class="computeroutput"><span class="identifier">__meta_arg_list</span></code></a><span class="special">(</span><span class="identifier">a</span><span class="special">,</span> <span class="identifier">StgTag</span><span class="special">)</span></code>
              </p>
              </td>
<td>
              <p>
                <code class="computeroutput"><a href="forwarding_strategies.html#egg.forwarding_strategies.argument_list" title="Argument list"><code class="computeroutput"><span class="identifier">__meta_arg_list</span></code></a><span class="special">([</span><span class="identifier">a1</span><span class="special">],</span>
                <a href="forwarding_strategies.html#egg.forwarding_strategies.argument_list" title="Argument list"><code class="computeroutput"><span class="identifier">__bytag_at</span></code></a><span class="special">(</span><span class="identifier">StgTag</span><span class="special">,</span>
                <span class="identifier">K</span><span class="special">,</span>
                <span class="number">0</span><span class="special">))++...++</span><a href="forwarding_strategies.html#egg.forwarding_strategies.argument_list" title="Argument list"><code class="computeroutput"><span class="identifier">__meta_arg_list</span></code></a><span class="special">([</span><span class="identifier">aK</span><span class="special">],</span> <a href="forwarding_strategies.html#egg.forwarding_strategies.argument_list" title="Argument list"><code class="computeroutput"><span class="identifier">__bytag_at</span></code></a><span class="special">(</span><span class="identifier">StgTag</span><span class="special">,</span>
                <span class="identifier">K</span><span class="special">,</span>
                <span class="identifier">K</span><span class="special">-</span><span class="number">1</span><span class="special">))</span></code>
              </p>
              </td>
</tr>
<tr>
<td>
              <p>
                <code class="computeroutput"><span class="identifier">function</span><span class="special">&lt;</span><a href="../index.html#egg.overview.notation" title="Notation"><code class="computeroutput"><span class="identifier">__Lit</span></code></a><span class="special">,</span> <span class="identifier">StgTag</span><span class="special">&gt;</span></code>
              </p>
              </td>
<td>
              <p>
                See <a href="function_builders.html#egg.function_builders.function" title="function"><code class="computeroutput"><span class="identifier">function</span></code></a>.
              </p>
              </td>
</tr>
</tbody>
</table></div>
<a name="egg.forwarding_strategies.writing_your_own_strategies.see_also"></a><h5>
<a name="id542509"></a>
        <a href="forwarding_strategies.html#egg.forwarding_strategies.writing_your_own_strategies.see_also">See
        also</a>
      </h5>
<div class="itemizedlist"><ul type="disc">
<li>
          The <a href="http://www.open-std.org/jtc1/sc22/wg21/docs/papers/2002/n1385.htm" target="_top">Forwarding
          Problem</a>
</li>
<li><a href="http://www.boost.org/libs/utility/utility.htm#result_of" target="_top"><span class="bold"><strong>Boost.ResultOf</strong></span></a></li>
</ul></div>
</div>
<div class="section" lang="en">
<div class="titlepage"><div><div><h3 class="title">
<a name="egg.forwarding_strategies.determining_nullary_return_types"></a><a href="forwarding_strategies.html#egg.forwarding_strategies.determining_nullary_return_types" title="Determining nullary return types">Determining
      nullary return types</a></h3></div></div></div>
<a name="egg.forwarding_strategies.determining_nullary_return_types.description"></a><h5>
<a name="id542590"></a>
        <a href="forwarding_strategies.html#egg.forwarding_strategies.determining_nullary_return_types.description">Description</a>
      </h5>
<p>
        C++ instantiates the declarations of non-dependent member function templates,
        so that some <a href="function_builders.html" title="Function Builders">Function Builders</a>
        and <a href="function_adaptors.html" title="Function Adaptors">Function Adaptors</a> require
        a special workaround. Here an imaginary operator is defined for the documentation.
      </p>
<a name="egg.forwarding_strategies.determining_nullary_return_types.valid_expressions_and_semantics"></a><h5>
<a name="id542644"></a>
        <a href="forwarding_strategies.html#egg.forwarding_strategies.determining_nullary_return_types.valid_expressions_and_semantics">Valid
        expressions and semantics</a>
      </h5>
<div class="itemizedlist"><ul type="disc"><li>
<code class="computeroutput"><a href="forwarding_strategies.html#egg.forwarding_strategies.determining_nullary_return_types" title="Determining nullary return types"><code class="computeroutput"><span class="identifier">__decltype_r0</span></code></a><span class="special">(</span><span class="identifier">R0</span><span class="special">,</span> <span class="identifier">expr</span><span class="special">)</span></code>
          is defined as follows:
          <div class="itemizedlist"><ul type="circle">
<li>
              If <code class="computeroutput"><span class="identifier">R0</span></code> is <code class="computeroutput"><a href="../index.html#egg.overview.notation" title="Notation"><code class="computeroutput"><span class="identifier">__ud</span></code></a></code>,
              it is a valid expression and returns an unspecified type .
            </li>
<li>
              If <code class="computeroutput"><span class="identifier">R0</span></code> is <code class="computeroutput"><span class="identifier">use_nullary_result</span></code>,
              <div class="itemizedlist"><ul type="square">
<li>
                  If <code class="computeroutput"><a href="../index.html#egg.overview.notation" title="Notation"><code class="computeroutput"><span class="identifier">__decltype</span></code></a><span class="special">(</span><span class="identifier">expr</span><span class="special">)</span></code> is a valid expression, it is a
                  valid expression and returns <code class="computeroutput"><a href="../index.html#egg.overview.notation" title="Notation"><code class="computeroutput"><span class="identifier">__decltype</span></code></a><span class="special">(</span><span class="identifier">expr</span><span class="special">)</span></code>.
                </li>
<li>
                  Otherwise, it is not a valid expression.
                </li>
</ul></div>
</li>
<li>
              Otherwise, <code class="computeroutput"><span class="identifier">R0</span></code>.
            </li>
</ul></div>
</li></ul></div>
<div class="tip"><table border="0" summary="Tip">
<tr>
<td rowspan="2" align="center" valign="top" width="25"><img alt="[Tip]" src="../../../doc/html/images/tip.png"></td>
<th align="left">Tip</th>
</tr>
<tr><td align="left" valign="top"><p>
          <a href="http://www.boost.org/libs/utility/utility.htm#result_of" target="_top"><span class="bold"><strong>Boost.ResultOf</strong></span></a> too offers a special workaround:
          A nullary callable <code class="computeroutput"><span class="keyword">class</span> <span class="identifier">F</span></code> without nested <code class="computeroutput"><span class="identifier">result_type</span></code>
          must specialize <code class="computeroutput"><span class="identifier">result_of</span><span class="special">&lt;</span><span class="identifier">F</span><span class="special">()&gt;</span></code>. <code class="computeroutput"><span class="identifier">result_of</span><span class="special">&lt;</span><span class="identifier">F</span><span class="special">()&gt;::</span><span class="identifier">type</span></code>
          is <code class="computeroutput"><span class="keyword">void</span></code> otherwise. Unfortunately,
          that isn't generic workaround. Consider <code class="computeroutput"><span class="identifier">f</span><span class="special">(</span><span class="identifier">g</span><span class="special">(),</span>
          <span class="identifier">h</span><span class="special">())</span></code>
          such that <code class="computeroutput"><span class="identifier">f</span></code> isn't a 2ary
          function.
        </p></td></tr>
</table></div>
<a name="egg.forwarding_strategies.determining_nullary_return_types.see_also"></a><h5>
<a name="id543070"></a>
        <a href="forwarding_strategies.html#egg.forwarding_strategies.determining_nullary_return_types.see_also">See
        also</a>
      </h5>
<div class="itemizedlist"><ul type="disc"><li><a href="http://www.boost.org/libs/utility/utility.htm#result_of" target="_top"><span class="bold"><strong>Boost.ResultOf</strong></span></a></li></ul></div>
</div>
</div>
<table xmlns:rev="http://www.cs.rpi.edu/~gregod/boost/tools/doc/revision" width="100%"><tr>
<td align="left"></td>
<td align="right"><div class="copyright-footer">Copyright © 2007 -2008 Shunsuke Sogame<p>
        Distributed under the Boost Software License, Version 1.0. (See accompanying
        file LICENSE_1_0.txt or copy at <a href="http://www.boost.org/LICENSE_1_0.txt" target="_top">http://www.boost.org/LICENSE_1_0.txt</a>)
      </p>
</div></td>
</tr></table>
<hr>
<div class="spirit-nav">
<a accesskey="p" href="concepts.html"><img src="../../../doc/html/images/prev.png" alt="Prev"></a><a accesskey="u" href="../index.html"><img src="../../../doc/html/images/up.png" alt="Up"></a><a accesskey="h" href="../index.html"><img src="../../../doc/html/images/home.png" alt="Home"></a><a accesskey="n" href="function_builders.html"><img src="../../../doc/html/images/next.png" alt="Next"></a>
</div>
</body>
</html>
